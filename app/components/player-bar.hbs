<div class="player-bar" ...attributes>
  {{#if this.isExpanded}}
    <PlayerBar::Expanded @episode={{@episode}} class="d-xl-none mx-half" />
  {{/if}}

  <div class="row align-center mr-half">
    <LinkTo
      @route={{@episode.route}}
      @models={{@episode.routeModels}}
      class="row gap-single align-center episode ellipsis nowrap"
    >
      <Podcast::Content::EpisodeLeadingIcon @episode={{@episode}} class="ml-half" @fallback-to-cover={{true}} />
      <div class="ellipsis">
        <div class="font-weight-bold ellipsis">{{@episode.name}}</div>
        <div class="text-xs ellipsis">{{@episode.podcast.name}}</div>
      </div>
    </LinkTo>

    {{#if this.playerIsBusy}}
      <ProgressCircle />
    {{else if this.audio.isPlaying}}
      <span
        class="material-symbols button larger"
        role="button"
        {{on "click" this.audio.pause}}
        title="{{t 'pause'}}"
      >pause</span>
    {{else}}
      <span
        class="material-symbols button larger"
        role="button"
        {{on "click" this.audio.play}}
        title="{{t 'play'}}"
      >play_arrow</span>
    {{/if}}

    <PlayerBar::Expanded @episode={{@episode}} class="d-none d-xl-flex fill" />

    <div class="d-xl-none">
      {{#if this.isExpanded}}
        <span
          class="material-symbols button"
          role="button"
          {{on "click" this.onCollapseClick}}
        >keyboard_arrow_down</span>
      {{else}}
        <span class="material-symbols button" role="button" {{on "click" this.onExpandClick}}>keyboard_arrow_up</span>
      {{/if}}
    </div>
  </div>
</div>
