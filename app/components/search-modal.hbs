<Modal @open={{@open}} {{on "keydown" this.onKeyDown}} class="search-modal">
  <:header>
    <div class="search-input-container">
      <span class="material-symbols icon">search</span>
      <input
        type="search"
        value={{this.term}}
        autofocus
        class="search-input"
        {{on "input" this.onInput}}
        {{on-update this.onOpenChange @open}}
      />
    </div>
  </:header>
  <:default>
    {{#if this.showMinCharsText}}
      <div class="px-single pb-half text-small text-boring-light">{{t "enter-min-3-chars"}}</div>
    {{else if this.showEmptyResultText}}
      <div class="px-single pb-half text-small text-boring-light">{{t "no-search-results"}}</div>
    {{/if}}
    <div class="search-results">
      {{#each this.results as |result index|}}
        <div class="search-result{{if (eq index this.activeIdx) ' active'}}">
          <LinkTo @route={{result.route}} @models={{result.routeModels}}>
            <div class="breadcrumbs">
              {{result.publishedString}}
              /
              {{result.podcast-name}}
            </div>
            <div class="title">{{result.name}}</div>
          </LinkTo>
        </div>
      {{/each}}
    </div>
  </:default>
</Modal>
